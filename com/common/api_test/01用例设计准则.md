# 接口测试用例设计准则

## 愿景

* 按照统一模式设计接口测试用例， 尽量避免测试用例覆盖不全而导致的漏测。
* 使用统一模板进行用例编写，便于后期转换成自动化脚本。
* 指定测试范围，便于开发测试分工合作。
  
## 接口测试范围

测试主要针对以下两种接口进行测试：

1. 外部系统与系统之间的交互点（如调用行方放款接口）。
2. 各个子系统之间的交互点（如H5用了服务端的Http接口）。

## 测试用例设计

测试用例编写至少需要覆盖以下几方面，如有其它特殊场景可自行增加。

### 1. 权限

对需要权限认证的接口，需要做权限测试，覆盖所有的权限。

### 2. 输入参数

* 必填字段校验：空值、正常值
* 字段类型验证：
    - 数值型（int、long、float 、double）：验证字段长度、边界覆盖、特殊值处理（0，负数等），简单数值遍历。
    - 字符串型：字符长度、特殊字符、空字符、边界覆盖
    - 数组：个数边界覆盖、特殊值，内容（重复）
    - 结构体：如字典类型放入列表数据

### 3. 输出结果

* 返回码覆盖
* 接口超时处理
* 返回状态覆盖
  
### 4. 逻辑覆盖

* 根据接口的业务功能做逻辑覆盖

### 5. 补充场景

* 数据敏感性：验证敏感接口是否加密处理
* 常用接口并发测试
* 特殊接口系统阻塞测试
* 互斥接口加锁验证
* 废弃接口屏蔽
  
## 测试方法

### 手工测试

统一使用postman进行测试
* postman 里面按照接口文档的结构建立文件夹，如`bank-api`
* 接口url使用参数化，便于环境切换测试，及后期现场使用
> {{host}}/huabei-test/start/huabei
* 测试通过的接口导出一份正常状态的接口测试文件保存在测试用例对应的目录中文件命名统一按照：
> bank-api.json

### 自动化测试

* 使用python解析测试用例文件完成单个接口测试
* 使用python脚本方式完成场景化接口测试

## 测试用例模板

模板参考：[测试用例模板](02测试用例模板.md)